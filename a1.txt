[DEBUG] Initializing USB manager...
[DEBUG] libusb initialized successfully
[DEBUG] Processing 7 devices
[DEBUG] Device 0: VID=0x1D6B, PID=0x0003
[DEBUG] Device 1: VID=0xA108, PID=0xC309
[DEBUG] Found Ingenic device 1 (VID:0xA108, PID:0xC309)
[DEBUG] Device 2: VID=0x30C9, PID=0x002B
[DEBUG] Device 3: VID=0x8087, PID=0x0026
[DEBUG] Device 4: VID=0x1D6B, PID=0x0002
[DEBUG] Device 5: VID=0x1D6B, PID=0x0003
[DEBUG] Device 6: VID=0x1D6B, PID=0x0002
[DEBUG] Found 1 Ingenic devices
[DEBUG] Allocating memory for 1 devices
[DEBUG] Memory allocated successfully
[DEBUG] Checking CPU info for device 0 to determine actual stage
[DEBUG] Allocating device structure...
[DEBUG] Setting device info and context...
[DEBUG] Manager device variant: 5 (t31x)
[DEBUG] Initializing device (bus=3, addr=116)...
[DEBUG] usb_device_init: preserving variant 5, stage=0, context=0x5563bc6e72b0
[DEBUG] Device initialized: VID:0xA108, PID:0xC309, Bus:3, Addr:116
[DEBUG] Device initialized successfully
[DEBUG] GetCPUInfo: Starting CPU info request (VID:0xA108, PID:0xC309)
[DEBUG] GetCPUInfo: Sending vendor request VR_GET_CPU_INFO (0x00)
[DEBUG] GetCPUInfo: Direct control transfer succeeded: 8 bytes
[DEBUG] GetCPUInfo: Got 8 bytes of response data
[DEBUG] GetCPUInfo: CPU magic bytes: [DEBUG] 0x54 [DEBUG] 0x20 [DEBUG] 0x33 [DEBUG] 0x20 [DEBUG] 0x31 [DEBUG] 0x20 [DEBUG] 0x56 [DEBUG] 0x20 [DEBUG] -> string = 'T31V' -> clean = 'T 3 1 V '
[DEBUG] GetCPUInfo: Device is in bootrom stage
[DEBUG] Device 0 is in bootrom stage (CPU magic: T 3 1 V )
[DEBUG] detect_variant_from_magic: input='T 3 1 V ' (length=8)
[DEBUG] detect_variant_from_magic: checking pattern match
[DEBUG] detect_variant_from_magic: matched T31V -> T31ZX
[DEBUG] Updated device 0 variant to t31zx (6) based on CPU magic
Bootstrapping device [0]: t31zx bootrom (Bus 003 Address 116)
  Vendor: 0xa108, Product: 0xc309
[DEBUG] Opening device...
[DEBUG] Allocating device structure...
[DEBUG] Setting device info and context...
[DEBUG] Manager device variant: 6 (t31zx)
[DEBUG] Initializing device (bus=3, addr=116)...
[DEBUG] usb_device_init: preserving variant 6, stage=0, context=0x5563bc6e72b0
[DEBUG] Device initialized: VID:0xA108, PID:0xC309, Bus:3, Addr:116
[DEBUG] Device initialized successfully
[DEBUG] Device opened successfully
[DEBUG] Device variant from manager: 6 (t31zx)
[DEBUG] Device variant from opened device: 6 (t31zx)
Starting bootstrap sequence for t31zx
[DEBUG] Skipping device reset (vendor tool doesn't reset)
[DEBUG] Getting CPU info...
[DEBUG] GetCPUInfo: Starting CPU info request (VID:0xA108, PID:0xC309)
[DEBUG] GetCPUInfo: Sending vendor request VR_GET_CPU_INFO (0x00)
[DEBUG] GetCPUInfo: Direct control transfer succeeded: 8 bytes
[DEBUG] GetCPUInfo: Got 8 bytes of response data
[DEBUG] GetCPUInfo: CPU magic bytes: [DEBUG] 0x54 [DEBUG] 0x20 [DEBUG] 0x33 [DEBUG] 0x20 [DEBUG] 0x31 [DEBUG] 0x20 [DEBUG] 0x56 [DEBUG] 0x20 [DEBUG] -> string = 'T31V' -> clean = 'T 3 1 V '
[DEBUG] GetCPUInfo: Device is in bootrom stage
CPU magic (raw hex): 54 20 33 20 31 20 56 20 
CPU info: stage=bootrom, magic='T 3 1 V '
[DEBUG] detect_variant_from_magic: input='T 3 1 V ' (length=8)
[DEBUG] detect_variant_from_magic: checking pattern match
[DEBUG] detect_variant_from_magic: matched T31V -> T31ZX
Detected processor variant: t31zx (from magic: 'T 3 1 V ')
[DEBUG] Loading firmware files...
[DEBUG] Using default firmware files
[DEBUG] firmware_load: variant=6 (t31zx)
[DEBUG] firmware_load: matched VARIANT_T31ZX (6)
[DEBUG] firmware_load: calling firmware_load_t31x
[DEBUG] Loading T31X firmware...
[DEBUG] Attempting to generate DDR configuration dynamically
[DEBUG] firmware_generate_ddr_config: variant=5 (t31x)
[DEBUG] Using reference DDR binary (dynamic generation disabled)
[DEBUG] Using T31 family reference DDR binary
[DEBUG] Using reference DDR binary: 324 bytes
âœ“ DDR configuration generated dynamically: 324 bytes
[DEBUG] Trying to load SPL from: ./references/cloner-2.5.43-ubuntu_thingino/firmwares/t31x/spl.bin
[DEBUG] Loaded SPL: 10092 bytes
[DEBUG] Trying to load U-Boot from: ./references/cloner-2.5.43-ubuntu_thingino/firmwares/t31x/uboot.bin
[DEBUG] Loaded U-Boot: 390532 bytes
[DEBUG] T31X firmware loaded successfully (official cloner files)
[DEBUG] DDR config: 324 bytes, SPL: 10092 bytes, U-Boot: 390532 bytes
Firmware loaded - Config: 324 bytes, SPL: 10092 bytes, U-Boot: 390532 bytes
Loading DDR configuration
[DEBUG] Setting data address to 0x80001000
[DEBUG] SetDataAddress: 0x80001000
[DEBUG] SetDataAddress OK
[DEBUG] Setting data length to 324 bytes
[DEBUG] SetDataLength: 324 (0x00000144)
[DEBUG] SetDataLength OK
[DEBUG] Transferring data (324 bytes)...
[DEBUG] TransferData starting: 324 bytes total
[DEBUG] TransferData chunk: offset=0, size=324, remaining=324
[DEBUG] Bulk transfer: write 324 bytes, timeout=5000ms, endpoint=0x01
[DEBUG] Bulk transfer success: 324 bytes transferred
[DEBUG] TransferData chunk written: 324 bytes (attempt 1)
[DEBUG] TransferData complete: 324 bytes written successfully
DDR configuration loaded
Loading SPL (Stage 1 bootloader)
[DEBUG] Setting data address to 0x80001800
[DEBUG] SetDataAddress: 0x80001800
[DEBUG] SetDataAddress OK
[DEBUG] Setting data length to 10092 bytes
[DEBUG] SetDataLength: 10092 (0x0000276c)
[DEBUG] SetDataLength OK
[DEBUG] Transferring data (10092 bytes)...
[DEBUG] TransferData starting: 10092 bytes total
[DEBUG] TransferData chunk: offset=0, size=10092, remaining=10092
[DEBUG] Bulk transfer: write 10092 bytes, timeout=5000ms, endpoint=0x01
[DEBUG] Bulk transfer success: 10092 bytes transferred
[DEBUG] TransferData chunk written: 10092 bytes (attempt 1)
[DEBUG] TransferData complete: 10092 bytes written successfully
SPL loaded
[DEBUG] Setting execution size (d2i_len) to 0x7000 for t31zx
[DEBUG] SetDataLength: 28672 (0x00007000)
[DEBUG] SetDataLength OK
[DEBUG] Executing SPL from entry point 0x80001800
[DEBUG] ProgStage1: addr=0x80001800
[DEBUG] ProgStage1 OK
SPL execution started
[DEBUG] Waiting for SPL to complete DDR initialization (keeping device handle open)...
[DEBUG] Waiting 2000 ms for DDR init...
[DEBUG] SPL should have completed, device handle remains valid
[DEBUG] Reopening USB device handle after SPL for T31ZX variant
[DEBUG] usb_device_reopen: attempting to reopen device VID:0xA108 PID:0xC309 (old bus=3 addr=116)
[DEBUG] usb_device_reopen: reopened on bus=3 addr=116
Loading U-Boot (Stage 2 bootloader)
[DEBUG] Setting U-Boot data address to 0x80100000
[DEBUG] SetDataAddress: 0x80100000
[DEBUG] Vendor request failed with LIBUSB_ERROR_TIMEOUT, retrying in 500 ms (attempt 1/5)...
[DEBUG] Vendor request failed with LIBUSB_ERROR_TIMEOUT, retrying in 1000 ms (attempt 2/5)...
[DEBUG] Vendor request failed with LIBUSB_ERROR_TIMEOUT, retrying in 2000 ms (attempt 3/5)...
[DEBUG] Vendor request failed with LIBUSB_ERROR_TIMEOUT, retrying in 3000 ms (attempt 4/5)...
[DEBUG] Vendor request failed after 5 retries: LIBUSB_ERROR_TIMEOUT
[DEBUG] SetDataAddress error: Transfer failed
Bootstrap failed: Transfer failed
